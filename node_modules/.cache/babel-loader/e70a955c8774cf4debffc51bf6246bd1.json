{"ast":null,"code":"import _slicedToArray from\"/Users/paulndam/Documents/Node-Js/Sample-Mern/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{Redirect}from\"react-router-dom\";import IconButton from\"@material-ui/core/IconButton\";import Button from\"@material-ui/core/Button\";import Dialog from\"@material-ui/core/Dialog\";import DialogActions from\"@material-ui/core/DialogActions\";import DialogContent from\"@material-ui/core/DialogContent\";import DialogContentText from\"@material-ui/core/DialogContentText\";import DialogTitle from\"@material-ui/core/DialogTitle\";import auth from\"../../utils/Auth/authHelper\";import{remove}from\"../../api/UserApi/userApi\";import DeleteForeverIcon from\"@material-ui/icons/DeleteForever\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var DeleteUser=function DeleteUser(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),open=_useState2[0],setOpen=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),redirect=_useState4[0],setRedirect=_useState4[1];var jwt=auth.isAuthenticated();var handleClick=function handleClick(){setOpen(true);};var deleteAccount=function deleteAccount(){remove({userId:props.userId},{t:jwt.token}).then(function(data){if(data&&data.error){console.log(data.error);}else{auth.clearJWT(function(){return console.log(\"You Just Deleted Your Account\");});setRedirect(true);}});};var handleRequestClose=function handleRequestClose(){setOpen(false);};if(redirect){return/*#__PURE__*/_jsx(Redirect,{to:\"/\"});}return/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(IconButton,{\"aria-label\":\"Delete\",onClick:handleClick,color:\"secondary\",children:/*#__PURE__*/_jsx(DeleteForeverIcon,{})}),/*#__PURE__*/_jsxs(Dialog,{open:open,onClose:handleRequestClose,children:[/*#__PURE__*/_jsx(DialogTitle,{children:\"Delete Account\"}),/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsx(DialogContentText,{children:\"Are You Sure About Deleting Your Account \\uD83E\\uDD14\"})}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:handleRequestClose,color:\"primary\",children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{onClick:deleteAccount,color:\"secondary\",autoFocus:\"autoFocus\",children:\"Confirm\"})]})]})]});};// eslint-disable-next-line react/no-typos\nexport default DeleteUser;","map":{"version":3,"sources":["/Users/paulndam/Documents/Node-Js/Sample-Mern/client/src/components/Users/DeleteUser.jsx"],"names":["React","useState","Redirect","IconButton","Button","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","auth","remove","DeleteForeverIcon","DeleteUser","props","open","setOpen","redirect","setRedirect","jwt","isAuthenticated","handleClick","deleteAccount","userId","t","token","then","data","error","console","log","clearJWT","handleRequestClose"],"mappings":"2KAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,QAAT,KAAyB,kBAAzB,CAEA,MAAOC,CAAAA,UAAP,KAAuB,8BAAvB,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,MAAOC,CAAAA,aAAP,KAA0B,iCAA1B,CACA,MAAOC,CAAAA,aAAP,KAA0B,iCAA1B,CACA,MAAOC,CAAAA,iBAAP,KAA8B,qCAA9B,CACA,MAAOC,CAAAA,WAAP,KAAwB,+BAAxB,CACA,MAAOC,CAAAA,IAAP,KAAiB,6BAAjB,CACA,OAASC,MAAT,KAAuB,2BAAvB,CACA,MAAOC,CAAAA,iBAAP,KAA8B,kCAA9B,C,wFACA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,KAAD,CAAW,CAC5B,cAAwBb,QAAQ,CAAC,KAAD,CAAhC,wCAAOc,IAAP,eAAaC,OAAb,eACA,eAAgCf,QAAQ,CAAC,KAAD,CAAxC,yCAAOgB,QAAP,eAAiBC,WAAjB,eAEA,GAAMC,CAAAA,GAAG,CAAGT,IAAI,CAACU,eAAL,EAAZ,CACA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACxBL,OAAO,CAAC,IAAD,CAAP,CACD,CAFD,CAIA,GAAMM,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,CAC1BX,MAAM,CACJ,CACEY,MAAM,CAAET,KAAK,CAACS,MADhB,CADI,CAIJ,CAAEC,CAAC,CAAEL,GAAG,CAACM,KAAT,CAJI,CAAN,CAKEC,IALF,CAKO,SAACC,IAAD,CAAU,CACf,GAAIA,IAAI,EAAIA,IAAI,CAACC,KAAjB,CAAwB,CACtBC,OAAO,CAACC,GAAR,CAAYH,IAAI,CAACC,KAAjB,EACD,CAFD,IAEO,CACLlB,IAAI,CAACqB,QAAL,CAAc,iBAAMF,CAAAA,OAAO,CAACC,GAAR,iCAAN,EAAd,EACAZ,WAAW,CAAC,IAAD,CAAX,CACD,CACF,CAZD,EAaD,CAdD,CAgBA,GAAMc,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,EAAM,CAC/BhB,OAAO,CAAC,KAAD,CAAP,CACD,CAFD,CAIA,GAAIC,QAAJ,CAAc,CACZ,mBAAO,KAAC,QAAD,EAAU,EAAE,CAAC,GAAb,EAAP,CACD,CAED,mBACE,qCACE,KAAC,UAAD,EAAY,aAAW,QAAvB,CAAgC,OAAO,CAAEI,WAAzC,CAAsD,KAAK,CAAC,WAA5D,uBACE,KAAC,iBAAD,IADF,EADF,cAKE,MAAC,MAAD,EAAQ,IAAI,CAAEN,IAAd,CAAoB,OAAO,CAAEiB,kBAA7B,wBACE,KAAC,WAAD,WAAc,gBAAd,EADF,cAEE,KAAC,aAAD,wBACE,KAAC,iBAAD,oEADF,EAFF,cAOE,MAAC,aAAD,yBACE,KAAC,MAAD,EAAQ,OAAO,CAAEA,kBAAjB,CAAqC,KAAK,CAAC,SAA3C,oBADF,cAIE,KAAC,MAAD,EACE,OAAO,CAAEV,aADX,CAEE,KAAK,CAAC,WAFR,CAGE,SAAS,CAAC,WAHZ,qBAJF,GAPF,GALF,GADF,CA4BD,CA7DD,CA8DA;AAKA,cAAeT,CAAAA,UAAf","sourcesContent":["import React, { useState } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport propTypes from \"prop-types\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport auth from \"../../utils/Auth/authHelper\";\nimport { remove } from \"../../api/UserApi/userApi\";\nimport DeleteForeverIcon from \"@material-ui/icons/DeleteForever\";\nconst DeleteUser = (props) => {\n  const [open, setOpen] = useState(false);\n  const [redirect, setRedirect] = useState(false);\n\n  const jwt = auth.isAuthenticated();\n  const handleClick = () => {\n    setOpen(true);\n  };\n\n  const deleteAccount = () => {\n    remove(\n      {\n        userId: props.userId,\n      },\n      { t: jwt.token }\n    ).then((data) => {\n      if (data && data.error) {\n        console.log(data.error);\n      } else {\n        auth.clearJWT(() => console.log(`You Just Deleted Your Account`));\n        setRedirect(true);\n      }\n    });\n  };\n\n  const handleRequestClose = () => {\n    setOpen(false);\n  };\n\n  if (redirect) {\n    return <Redirect to=\"/\" />;\n  }\n\n  return (\n    <span>\n      <IconButton aria-label=\"Delete\" onClick={handleClick} color=\"secondary\">\n        <DeleteForeverIcon />\n      </IconButton>\n\n      <Dialog open={open} onClose={handleRequestClose}>\n        <DialogTitle>{\"Delete Account\"}</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            Are You Sure About Deleting Your Account ðŸ¤”\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleRequestClose} color=\"primary\">\n            Cancel\n          </Button>\n          <Button\n            onClick={deleteAccount}\n            color=\"secondary\"\n            autoFocus=\"autoFocus\"\n          >\n            Confirm\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </span>\n  );\n};\n// eslint-disable-next-line react/no-typos\nDeleteUser.propTypes = {\n  userId: propTypes.string.isRequired,\n};\n\nexport default DeleteUser;\n"]},"metadata":{},"sourceType":"module"}